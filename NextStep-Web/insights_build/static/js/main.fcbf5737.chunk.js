(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{174:function(e,t,s){},357:function(e,t,s){},358:function(e,t,s){},359:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),r=s(56),c=s.n(r),i=(s(174),s(8)),o=s(9),d=s(11),l=s(10),u=s(6),m=s.n(u),h=s(14),j=s(2),p=function(e){var t=e.header,s=e.selectionOptions,n=e.selChanged;return Object(j.jsxs)("div",{className:"card x-small",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("div",{className:"three-fourth container-v-center",children:Object(j.jsx)("span",{className:"padding",children:t})})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("form",{children:Object(j.jsxs)("select",{onChange:function(e){n(e.target.value)},children:[Object(j.jsx)("option",{value:""}),s.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},"option#".concat(t))}))]})})})]})},b=window.insight_api_url,v="Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2FwcF90b2tlbiIsImlhdCI6MTYxNTQ2MTQ1NiwiZXhwIjozMjUzNTEwOTgwMH0.uwWnLvFiIoGtQGe21gQj5MYqxOanPMSXCSNJ5Vc_gYs"),g=function(){var e=Object(h.a)(m.a.mark((function e(t){var s,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={dimensions:["Semesters.semester"],timeDimensions:[{dimension:"Semesters.startdate",granularity:"day"}],order:{"Semesters.startdate":"desc"}},e.next=3,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:s})});case 3:return n=e.sent,e.next=6,n.json();case 6:if((n=e.sent)&&n.data){e.next=10;break}return t([]),e.abrupt("return");case 10:a=n.data.map((function(e){return e["Semesters.semester"]})),t(a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(h.a)(m.a.mark((function e(t,s,n){var a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&s){e.next=3;break}return n([]),e.abrupt("return");case 3:return a={dimensions:["Attendances.section","Sections.section"],timeDimensions:[],order:{},measures:[],filters:[{dimension:"Semesters.semester",operator:"equals",values:["".concat(t)]},{dimension:"Grades.grade",operator:"equals",values:["".concat(s)]}]},e.next=6,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:a})});case 6:return r=e.sent,e.next=9,r.json();case 9:if(r=e.sent){e.next=13;break}return n([]),e.abrupt("return");case 13:c=r.data.map((function(e){return e["Sections.section"]})),n(c);case 15:case"end":return e.stop()}}),e)})));return function(t,s,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(m.a.mark((function e(t,s){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return s([]),e.abrupt("return");case 3:return n={measures:[],timeDimensions:[],order:{},dimensions:["Attendances.class","Grades.grade"],filters:[{dimension:"Semesters.semester",operator:"equals",values:["".concat(t)]}]},e.next=6,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:n})});case 6:return a=e.sent,e.next=9,a.json();case 9:if((a=e.sent)&&a.data){e.next=13;break}return s([]),e.abrupt("return");case 13:r=a.data.map((function(e){return e["Grades.grade"]})),s(r);case 15:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),x=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).setSemester=function(e){n.setState({currSemester:e},(function(t){n.loadClasses(e),n.loadSections(""),n.setSemesterCb(e)}))},n.setClass=function(e){var t=n.state.currSemester;n.loadSections(t,e),n.setClassCb(e)},n.setSection=function(e){n.setSectionCb(e)},n.loadSemesters=function(){g((function(e){n.setState({semesters:e})}))},n.loadClasses=function(e){O(e,(function(e){n.setState({classNames:e})}))},n.loadSections=function(e,t){f(e,t,(function(e){n.setState({sections:e})}))},n.state={semesters:[],classNames:[],sections:[],currSemester:"",currClassName:""},n.setSemesterCb=e.setSemester,n.setClassCb=e.setClass,n.setSectionCb=e.setSection,n}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.loadSemesters()}},{key:"render",value:function(){var e=this.state,t=e.semesters,s=e.classNames,n=e.sections;return Object(j.jsxs)("div",{className:"focused",children:[Object(j.jsx)("div",{className:" padding",children:Object(j.jsx)(p,{header:"Select Semester",selectionOptions:t,selChanged:this.setSemester})}),Object(j.jsx)("div",{className:" padding",children:Object(j.jsx)(p,{header:"Select Class",selectionOptions:s,selChanged:this.setClass})}),Object(j.jsx)("div",{className:" padding",children:Object(j.jsx)(p,{header:"Select Section",selectionOptions:n,selChanged:this.setSection})})]})}}]),s}(a.a.PureComponent),y=s(18),S=s(59),N=function(e){return Object(j.jsx)("div",Object(y.a)(Object(y.a)({className:"container-center"},e),{},{children:Object(j.jsx)("div",{className:"loader"})}))},w=function(e){var t=e.header,s=e.infoText,n=e.spanClass,a=e.loading,r=Object(S.a)(e,["header","infoText","spanClass","loading"]);return n=e.spanClass||"",Object(j.jsxs)("div",Object(y.a)(Object(y.a)({className:"card x-small"},r),{},{children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("div",{className:"three-fourth container-v-center",children:Object(j.jsx)("span",{className:"padding",children:t})})}),Object(j.jsx)("div",{className:"card-body align-right",children:a?Object(j.jsx)(N,{}):Object(j.jsx)("span",{className:n,children:s})})]}))},A=function(e){var t=e.attendance,s=e.present,n=e.total;return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"card x-small",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("div",{className:"container-v-center",children:Object(j.jsx)("span",{className:"padding",children:"Attendance"})})}),Object(j.jsxs)("div",{className:"card-body flex-between bordered",children:[Object(j.jsxs)("span",{className:"text-big",children:[t,"%"]}),Object(j.jsx)("span",{className:"padding text-medium",children:Object(j.jsxs)("b",{children:[s," / ",n]})})]})]})})},C=function(){var e=Object(h.a)(m.a.mark((function e(t){var s,n,a,r,c,i,o,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>1&&void 0!==d[1]?d[1]:"",n=d.length>2&&void 0!==d[2]?d[2]:"",a=d.length>3&&void 0!==d[3]?d[3]:"",r=d.length>4?d[4]:void 0,c=[{dimension:"Users.categorytype",operator:"equals",values:["".concat(t)]}],s&&c.push({dimension:"Semesters.semester",operator:"equals",values:["".concat(s)]}),n&&c.push({dimension:"Grades.grade",operator:"equals",values:["".concat(n)]}),a&&c.push({dimension:"Sections.section",operator:"equals",values:["".concat(a)]}),i={dimensions:[],timeDimensions:[],order:{},measures:["Attendances.userCount","Attendances.attendance","Attendances.count","Attendances.present"],filters:c},e.next=12,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:i})});case 12:return o=e.sent,e.next=15,o.json();case 15:o=e.sent,r(o.data);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(h.a)(m.a.mark((function e(t,s){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t&&n.push({dimension:"Semesters.semester",operator:"equals",values:["".concat(t)]}),a={dimensions:[],timeDimensions:[{dimension:"UsersGrade.gradeCreatedon"}],order:{},measures:["UsersGrade.average"],filters:n},e.next=5,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:a})});case 5:return r=e.sent,e.next=8,r.json();case 8:r=e.sent,s(r.data);case 10:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),k=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).Load=function(e,t,s){n.setState({loading:!0}),C(n.state.categoryType,e,t,s,(function(t){(t=function(e){return e&&(e=(e=e.filter((function(e){return!!e["Attendances.attendance"]}))).map((function(e){return{studentCount:e["Attendances.userCount"].toString(),presentCount:e["Attendances.present"].toString(),attendance:e["Attendances.attendance"].toFixed(2),totalCount:e["Attendances.count"].toString()}}))).length?e[0]:null}(t))?n.setState({attendanceInfo:t}):n.setState({attendanceInfo:{studentCount:"NA",attendance:"NA",presentCount:"NA",totalCount:"NA"}}),T(e,(function(e){(e=function(e){return e?(e=e.map((function(e){return{gradeAverage:e["UsersGrade.average"].toFixed(2)}}))).length?e[0]:null:{gradeAverage:"NA"}}(e))?n.setState({gradeAverage:e.gradeAverage,loading:!1}):n.setState({gradeAverage:"NA",loading:!1})}))}))},n.state={loading:!1,categoryType:e.categoryType,attendanceInfo:{studentCount:"NA",attendance:"NA",presentCount:"NA",totalCount:"NA"},gradeAverage:"NA"},n.Load(e.semester,e.className,e.section),n}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.Load(e.semester,e.className,e.section)}},{key:"render",value:function(){var e=this.state,t=e.attendanceInfo,s=e.loading,n=e.gradeAverage;return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"padding",children:Object(j.jsx)(w,{header:"User Count",infoText:t.studentCount,spanClass:"text-big padding",loading:s})}),Object(j.jsx)("div",{className:"padding",children:Object(j.jsx)(A,{attendance:t.attendance,present:t.presentCount,total:t.totalCount})}),Object(j.jsx)("div",{className:"padding",children:Object(j.jsx)(w,{header:"Average Marks",infoText:n,spanClass:"text-big padding",loading:s})})]})}}]),s}(a.a.Component),M=s(13),D=["#FF6492","#0095FF","#141446","#7A77FF"],G=function(e){var t=e.scores,s=e.title;return Object(j.jsx)("div",{className:"container center",children:t.map((function(e,t){var n=e.value/100*280;return n=230-n,Object(j.jsx)("div",{className:"container center bordered one-half",children:Object(j.jsx)("svg",{style:{height:"280px",width:"200px"},children:Object(j.jsxs)("g",{children:[Object(j.jsx)("text",{x:100,y:225,dy:8,textAnchor:"middle",fontSize:14,fontWeight:"400",fill:"#444",children:e.name},"txt2#".concat(t)),Object(j.jsx)("text",{x:100,y:125,dy:8,textAnchor:"middle",fill:D[t%D.length],children:s},"txt1#".concat(t)),Object(j.jsx)("text",{x:100,y:140,dy:8,textAnchor:"middle",fill:D[t%D.length],children:e.value},"txt3#".concat(t)),Object(j.jsx)(M.k,{cx:100,cy:135,innerRadius:50,outerRadius:80,startAngle:-50,endAngle:230,fill:"#DDD"},"sector#".concat(t)),Object(j.jsx)(M.k,{cx:100,cy:135,innerRadius:50,outerRadius:80,startAngle:n,endAngle:230,fill:D[t%D.length]},"sector2#".concat(t)),Object(j.jsx)(M.k,{cx:100,cy:135,innerRadius:84,outerRadius:89,startAngle:n,endAngle:230,fill:D[t%D.length]},"sector3#".concat(t))]},"g#".concat(t))},"svg#".concat(t))},"score-meter.div#".concat(t))}))})},U=function(){var e=Object(h.a)(m.a.mark((function e(){var t,s,n,a,r,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",s=c.length>1?c[1]:void 0,n=[],t&&n.push({dimension:"Semesters.semester",operator:"equals",values:["".concat(t)]}),a={measures:["UsersGrade.count","UsersGrade.average"],dimensions:["Subjects.subject"],timeDimensions:[{dimension:"UsersGrade.gradeCreatedon"}],order:{"UsersGrade.count":"desc"},filters:n},e.prev=5,e.next=8,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:a})});case 8:return r=e.sent,e.next=11,r.json();case 11:r=e.sent,s(r.data),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),console.log("Fetch error: ",e.t0.message),s([]);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}(),q=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).Load=function(e){n.setState({loading:!0}),U(e,(function(e){e=function(e){return e?e.map((function(e){return{name:e["Subjects.subject"],value:parseFloat(e["UsersGrade.average"].toFixed(2))}})):[]}(e),n.setState({loading:!1,subjectScores:e})}))},n.handleClick=function(){var e=n.state,t=e.subjectScores;return e.loading||n.showModal("Average Subject Scores",G,{scores:t,title:"Average",meterWidth:"50%"}),!0},n.state={loading:!1,subjectScores:[]},n.showModal=e.showModal,n.Load(e.semester),n}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.Load(e.semester)}},{key:"render",value:function(){var e=this,t=this.state,s=t.subjectScores,n=t.loading;return Object(j.jsxs)("div",{className:"card medium",children:[Object(j.jsxs)("div",{className:"card-header",children:[Object(j.jsx)("div",{className:"two-third container-v-center",children:Object(j.jsx)("span",{className:"padding",children:"Average Subject Score"})}),Object(j.jsx)("div",{className:"one-third container-v-center right",children:Object(j.jsx)("span",{onClick:function(t){return e.handleClick()},className:"open-modal-btn",children:"Expand"})})]}),Object(j.jsx)("div",{className:"card-body",children:n?Object(j.jsx)(N,{style:{height:"280px"}}):Object(j.jsx)(G,{scores:s,title:"Average",meterWidth:"50%"})})]})}}]),s}(a.a.Component),F=["#FF6492","#0095FF","#141446","#7A77FF"],P=function(e){var t=e.data,s=e.nameKey||"name",n=e.dataKey||"value";return Object(j.jsx)("div",{className:"container center",children:Object(j.jsx)(M.j,{width:"100%",height:258,children:Object(j.jsxs)(M.i,{style:{height:"240px",width:"100%"},children:[Object(j.jsx)(M.h,{isAnimationActive:!1,data:t,nameKey:s,outerRadius:80,innerRadius:40,dataKey:n,fill:"#8884d8",children:t.map((function(e,t){return Object(j.jsx)(M.d,{fill:F[t%F.length]},t)}))}),Object(j.jsx)(M.e,{}),Object(j.jsx)(M.l,{})]})})})},L=function(){var e=Object(h.a)(m.a.mark((function e(t){var s,n,a,r,c,i,o,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>1&&void 0!==d[1]?d[1]:"",n=d.length>2&&void 0!==d[2]?d[2]:"",a=d.length>3?d[3]:void 0,r=[{dimension:"Users.categorytype",operator:"equals",values:["".concat(t)]}],c=[],s||c.push("Semesters.semester"),s&&(r.push({dimension:"Semesters.semester",operator:"equals",values:["".concat(s)]}),n||c.push("Grades.grade")),n&&(r.push({dimension:"Grades.grade",operator:"equals",values:["".concat(n)]}),c.push("Sections.section")),i={measures:["Attendances.userCount"],timeDimensions:[],order:{},dimensions:c,filters:r},e.prev=9,e.next=12,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:i})});case 12:return o=e.sent,e.next=15,o.json();case 15:o=e.sent,a(o.data),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(9),console.log("Fetch error: ",e.t0.message),a([]);case 23:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t){return e.apply(this,arguments)}}(),I=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).Load=function(e,t){n.setState({loading:!0}),L(n.state.categoryType,e,t,(function(e){e=function(e){return e?(e=e.map((function(e){return{name:e["Semesters.semester"]||e["Grades.grade"]||e["Sections.section"],value:e["Attendances.userCount"]}}))).filter((function(e){return 0!==e.value})):[]}(e),n.setState({loading:!1,data:e})}))},n.state={categoryType:e.categoryType,loading:!1,data:[]},n.Load(e.semester,e.className),n}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.Load(e.semester,e.className)}},{key:"render",value:function(){var e=this.state,t=e.loading,s=e.data;return Object(j.jsx)("div",{children:t?Object(j.jsx)(N,{style:{height:"280px"}}):Object(j.jsx)(P,{data:s})})}}]),s}(a.a.Component),J=function(e){var t=e.data,s=e.title||"Value";return Object(j.jsx)("div",{className:"container center",children:Object(j.jsxs)(M.b,{width:420,height:265,data:t,margin:{top:10,right:30,left:0,bottom:10},className:"bordered padding",children:[Object(j.jsx)(M.c,{strokeDasharray:"3 3"}),Object(j.jsx)(M.m,{dataKey:"name"}),Object(j.jsx)(M.n,{}),Object(j.jsx)(M.l,{}),Object(j.jsx)(M.e,{}),Object(j.jsx)(M.a,{dataKey:"value",name:s,fill:"#0095FF"})]})})},R=function(){var e=Object(h.a)(m.a.mark((function e(){var t,s,n,a,r,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",s=c.length>1?c[1]:void 0,n=[],t&&n.push({dimension:"Semesters.semester",operator:"equals",values:["".concat(t)]}),a={measures:["UsersGrade.division1","UsersGrade.division2","UsersGrade.division3","UsersGrade.fail"],timeDimensions:[{dimension:"UsersGrade.gradeCreatedon"}],order:{"UsersGrade.Division1":"desc"},dimensions:[],filters:n},e.next=7,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:a})});case 7:return r=e.sent,e.next=10,r.json();case 10:r=e.sent,s(r.data);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){return e&&e.length?[{name:"Div 1",value:(e=e[0])["UsersGrade.division1"]},{name:"Div 2",value:e["UsersGrade.division2"]},{name:"Div 3",value:e["UsersGrade.division3"]},{name:"Fail",value:e["UsersGrade.fail"]}]:[]},E=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).loadData=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n.setState({loading:!0}),R(t,(function(e){e=W(e),n.setState({data:e,loading:!1})}))}catch(s){console.log("Fetch error: ",s.message)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={data:[],loading:!0},n.loadData(e.semester),n}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.loadData(e.semester)}},{key:"render",value:function(){var e=this.state,t=e.data,s=e.loading;return Object(j.jsx)("div",{children:s?Object(j.jsx)(N,{style:{height:"255px"}}):Object(j.jsx)(J,{data:t,title:"Student Count"})})}}]),s}(a.a.Component),z=function(e){var t=e.table,s=t.rows,n=t.headers,a=Object(S.a)(e,["table"]);return Object(j.jsx)("div",Object(y.a)(Object(y.a)({},a),{},{children:Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:n.map((function(e,t){return Object(j.jsx)("td",{children:e},"th.td#".concat(t))}))})}),Object(j.jsx)("tbody",{children:s.map((function(e,t){return Object(j.jsx)("tr",{children:e.map((function(e,s){return Object(j.jsx)("td",{children:e},"td.r".concat(t,".c").concat(s))}))},"tr".concat(t))}))})]})}))},K=function(){var e=Object(h.a)(m.a.mark((function e(t){var s,n,a,r,c,i,o,d,l=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>1&&void 0!==l[1]?l[1]:"",n=l.length>2&&void 0!==l[2]?l[2]:"",a=l.length>3&&void 0!==l[3]?l[3]:"",r=l.length>4?l[4]:void 0,c=[{dimension:"Users.categorytype",operator:"equals",values:["".concat(t)]}],i=["Users.profileFullname","Users.profileRollnumber","Grades.grade","Sections.section","Semesters.semester"],s&&c.push({dimension:"Semesters.semester",operator:"equals",values:["".concat(s)]}),n&&c.push({dimension:"Grades.grade",operator:"equals",values:["".concat(n)]}),a&&c.push({dimension:"Sections.section",operator:"equals",values:["".concat(a)]}),o={dimensions:i,timeDimensions:[{dimension:"Attendances.createdat"}],order:{"Attendances.attendance":"desc"},measures:["Attendances.attendance"],filters:c},e.prev=10,e.next=13,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:o})});case 13:return d=e.sent,e.next=16,d.json();case 16:d=e.sent,r(d.data),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(10),console.log("Fetch error: ",e.t0.message),r([]);case 24:case"end":return e.stop()}}),e,null,[[10,20]])})));return function(t){return e.apply(this,arguments)}}(),V=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).Load=function(e,t,s){n.setState({loading:!0}),K(n.state.categoryType,e,t,s,(function(e){var t=function(e,t){var s=["Name","Class","Attendance","Section","Semester"];return"S"===t&&s.unshift("Roll num"),e?{headers:s,rows:(e=e.filter((function(e){return!!e["Attendances.attendance"]}))).map((function(e){var s=[e["Users.profileFullname"],e["Grades.grade"],e["Attendances.attendance"].toFixed(2),e["Sections.section"],e["Semesters.semester"]];return"S"===t&&s.unshift(e["Users.profileRollnumber"]),s}))}:{headers:s,rows:[]}}(e,n.state.categoryType),s=t.rows,a=t.headers;n.setState({table:{rows:s,headers:a},loading:!1})}))},n.handleClick=function(){var e=n.state,t=e.loading,s=e.table;return t||n.showModal("Top Attendees",z,{table:s}),!0},n.state={categoryType:e.categoryType,table:{rows:[],headers:[]},loading:!0},n.showModal=e.showModal,n.Load(e.semester,e.className,e.section),n}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.Load(e.semester,e.className)}},{key:"render",value:function(){var e=this,t=this.state,s=t.table,n=t.loading;return Object(j.jsxs)("div",{className:"card medium",children:[Object(j.jsxs)("div",{className:"card-header",children:[Object(j.jsx)("div",{className:"two-third container-v-center",children:Object(j.jsx)("span",{className:"padding",children:"Top Attendees"})}),Object(j.jsx)("div",{className:"one-third container-v-center right",children:Object(j.jsx)("span",{onClick:function(t){return e.handleClick()},className:"open-modal-btn",children:"Expand"})})]}),Object(j.jsx)("div",{className:"card-body scroll-h",style:{height:"295px"},children:n?Object(j.jsx)(N,{style:{height:"255px"}}):Object(j.jsx)(z,{table:s,style:{width:"800px"}})})]})}}]),s}(a.a.Component),_=function(){var e=Object(h.a)(m.a.mark((function e(t){var s,n,a,r,c,i,o,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>1&&void 0!==d[1]?d[1]:"",n=d.length>2&&void 0!==d[2]?d[2]:"",d.length>3&&void 0!==d[3]?d[3]:"",a=d.length>4?d[4]:void 0,r=[{dimension:"Users.categorytype",operator:"equals",values:["".concat(t)]}],c=[],s||c.push("Semesters.semester"),s&&(r.push({dimension:"Semesters.semester",operator:"equals",values:["".concat(s)]}),n||c.push("Grades.grade")),n&&(r.push({dimension:"Grades.grade",operator:"equals",values:["".concat(n)]}),c.push("Sections.section")),i={measures:["Attendances.attendance","Attendances.count"],timeDimensions:[{dimension:"Attendances.createdat"}],order:{"Attendances.attendance":"desc"},dimensions:c,filters:r},e.next=11,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:i})});case 11:return o=e.sent,e.next=14,o.json();case 14:o=e.sent,a(o.data);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).Load=function(e,t,s){n.setState({loading:!0}),_(n.state.categoryType,e,t,s,(function(e){e=function(e){return e?(e=e.filter((function(e){return!!e["Attendances.attendance"]}))).map((function(e){var t=e["Attendances.attendance"];return t=parseFloat(t.toFixed(2)),{name:e["Semesters.semester"]||e["Grades.grade"]||e["Sections.section"],value:parseFloat(t.toFixed(2))}})):[]}(e),n.setState({data:e,loading:!1})}))},n.handleClick=function(){var e=n.state,t=e.loading,s=e.data;return t||n.showModal("Attendance Distribution",G,{scores:s,title:"Average",meterWidth:"50%"}),!0},n.state={categoryType:e.categoryType,data:[],loading:!0},n.showModal=e.showModal,n.Load(e.semester,e.className,e.section),n}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.Load(e.semester,e.className,e.section)}},{key:"render",value:function(){var e=this,t=this.state,s=t.loading,n=t.data;return Object(j.jsxs)("div",{className:"card medium",children:[Object(j.jsxs)("div",{className:"card-header",children:[Object(j.jsx)("div",{className:"two-third container-v-center",children:Object(j.jsx)("span",{className:"padding",children:"Attendance Distribution"})}),Object(j.jsx)("div",{className:"one-third container-v-center right",children:Object(j.jsx)("span",{onClick:function(t){return e.handleClick()},className:"open-modal-btn",children:"Expand"})})]}),Object(j.jsx)("div",{className:"card-body",children:s?Object(j.jsx)(N,{style:{height:"255px"}}):Object(j.jsx)(G,{scores:n,title:"Average",meterWidth:"50%"})})]})}}]),s}(a.a.Component),X=["#FF6492","#0095FF","#141446","#7A77FF"],Q=function(e){var t=e.timelineData,s=e.categories,n=e.customTooltip;return Object(j.jsx)("div",{className:"container center padding",children:Object(j.jsx)(M.j,{width:"100%",height:250,className:"bordered",children:Object(j.jsxs)(M.g,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Object(j.jsx)(M.c,{strokeDasharray:"3 3"}),Object(j.jsx)(M.m,{dataKey:"day"}),Object(j.jsx)(M.n,{}),n?Object(j.jsx)(M.l,{content:n}):Object(j.jsx)(M.l,{}),Object(j.jsx)(M.e,{}),s.map((function(e,t){return Object(j.jsx)(M.f,{type:"monotone",dataKey:e,stroke:X[t%4]},"lineChart#".concat(t))}))]})})})},B=function(){var e=Object(h.a)(m.a.mark((function e(t){var s,n,a,r,c,i,o,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>1&&void 0!==d[1]?d[1]:"",n=d.length>2&&void 0!==d[2]?d[2]:"",d.length>3&&void 0!==d[3]?d[3]:"",a=d.length>4?d[4]:void 0,r=[{dimension:"Users.categorytype",operator:"equals",values:["".concat(t)]}],c=[],s||c.push("Semesters.semester"),s&&(r.push({dimension:"Semesters.semester",operator:"equals",values:["".concat(s)]}),n||c.push("Grades.grade")),n&&(r.push({dimension:"Grades.grade",operator:"equals",values:["".concat(n)]}),c.push("Sections.section")),i={dimensions:c,timeDimensions:[{dimension:"Attendances.createdat",granularity:"day"}],order:{"Attendances.createdat":"asc"},measures:["Attendances.attendance"],filters:r},e.next=11,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:i})});case 11:return o=e.sent,e.next=14,o.json();case 14:o=e.sent,a(o.data);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){var t=e.active,s=e.payload,n=e.label;return t&&s?Object(j.jsxs)("div",{className:"white padding-medium",children:[Object(j.jsx)("span",{className:"padding",children:n}),s.map((function(e,t){return Object(j.jsx)("div",{className:"padding",children:Object(j.jsx)("label",{style:{color:e.color},className:"flex-center full-width",children:"".concat(e.name," : ").concat(e.value,"%")},"TLabel#".concat(t))},"TTipdiv#".concat(t))}))]}):null},Z=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).Load=function(e,t,s){n.setState({loading:!0}),B(n.state.categoryType,e,t,s,(function(e){var t=function(e){if(!e)return{timeline:[],categories:[]};e=(e=e.filter((function(e){return!!e["Attendances.attendance"]}))).map((function(e){return{day:new Date(e["Attendances.createdat.day"]).toDateString(),attendance:parseFloat(e["Attendances.attendance"].toFixed(2)),category:e["Semesters.semester"]||e["Grades.grade"]||e["Sections.section"]}}));var t=[],s={},n=[];return e.forEach((function(e){t.includes(e.category)||t.push(e.category),n.includes(e.day)||n.push(e.day),s[e.day]||(s[e.day]={day:e.day}),s[e.day][e.category]=e.attendance})),{timeline:e=n.map((function(e){return s[e]})),categories:t}}(e),s=t.timeline,a=t.categories;n.setState({loading:!1,timeline:s,categories:a})}))},n.handleClick=function(){var e=n.state,t=e.loading,s=e.timeline,a=e.categories;return t||n.showModal("Attendance Timeline",Q,{timelineData:s,categories:a,customTooltip:Y}),!0},n.state={categoryType:e.categoryType,loading:!0,timeline:[],categories:[]},n.showModal=e.showModal,n.Load(e.semester,e.className,e.section),n}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.Load(e.semester,e.className,e.section)}},{key:"render",value:function(){var e=this,t=this.state,s=t.loading,n=t.timeline,a=t.categories;return Object(j.jsxs)("div",{className:"card medium",children:[Object(j.jsxs)("div",{className:"card-header",children:[Object(j.jsx)("div",{className:"two-third container-v-center",children:Object(j.jsx)("span",{className:"padding",children:"Attendance Timeline"})}),Object(j.jsx)("div",{className:"one-third container-v-center right",children:Object(j.jsx)("span",{onClick:function(t){return e.handleClick()},className:"open-modal-btn",children:"Expand"})})]}),Object(j.jsx)("div",{className:"card-body",children:s?Object(j.jsx)(N,{style:{height:"255px"}}):Object(j.jsx)(Q,{timelineData:n,categories:a,customTooltip:Y})})]})}}]),s}(a.a.Component),$=function(){var e=Object(h.a)(m.a.mark((function e(){var t,s,n,a,r,c,i,o,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:"",s=d.length>1&&void 0!==d[1]?d[1]:"",n=d.length>2&&void 0!==d[2]?d[2]:"",a=d.length>3?d[3]:void 0,r=[],c=["AssignmentSubmissions.mimetype"],t&&(r.push({dimension:"Semesters.semester",operator:"equals",values:["".concat(t)]}),c.push("Periods.semester")),s&&r.push({dimension:"Grades.grade",operator:"equals",values:["".concat(s)]}),n&&r.push({dimension:"Sections.section",operator:"equals",values:["".concat(n)]}),i={dimensions:c,timeDimensions:[{dimension:"AssignmentSubmissions.recordAssignmentUploaddate",granularity:"day"}],order:{"AssignmentSubmissions.count":"desc","AssignmentSubmissions.recordAssignmentUploaddate":"asc"},measures:["AssignmentSubmissions.count"],filters:r},e.next=13,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:i})});case 13:return o=e.sent,e.next=16,o.json();case 16:o=e.sent,a(o.data);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).Load=function(e,t,s){n.setState({loading:!0}),$(e,t,s,(function(e){e=function(e){if(!e)return[];var t={};return(e=e.filter((function(e){return 0!==e["AssignmentSubmissions.count"]}))).forEach((function(e){var s=function(e){if(!e)return"Unknown";if(-1!==e.indexOf("image"))return"Image";if("application/pdf"===e)return"Pdf";if("text/plain"===e)return"Text";if(-1!==e.indexOf("text")){var t=e.slice(5);return t[0].toUpperCase()+t.slice(1)}return-1!==e.indexOf("doc")?"Doc":-1!==e.indexOf("xls")?"Sheet":-1!==e.indexOf("ppt")?"Presentation":-1!==e.indexOf("form-data")?"Form data":-1!==e.indexOf("json")?"JSON":"Unknown"}(e["AssignmentSubmissions.mimetype"]),n=e["AssignmentSubmissions.count"];t[s]?t[s].value+=n:t[s]={name:s,value:n}})),Object.keys(t).map((function(e){return t[e]}))}(e),n.setState({loading:!1,submissionStats:e})}))},n.state={loading:!1,submissionStats:[]},n.Load(e.semester,e.className,e.section),n}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.Load(e.semester,e.className,e.section)}},{key:"render",value:function(){var e=this.state,t=e.loading,s=e.submissionStats;return Object(j.jsx)("div",{children:t?Object(j.jsx)(N,{style:{height:"260px"}}):Object(j.jsx)(P,{data:s})})}}]),s}(a.a.Component),te=function(){var e=Object(h.a)(m.a.mark((function e(){var t,s,n,a,r,c,i,o,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:"",s=d.length>1&&void 0!==d[1]?d[1]:"",n=d.length>2&&void 0!==d[2]?d[2]:"",a=d.length>3?d[3]:void 0,r=[],c=["Periods.semester"],t||c.push("Semesters.semester"),t&&(r.push({dimension:"Semesters.semester",operator:"equals",values:["".concat(t)]}),s||c.push("Grades.grade")),s&&(r.push({dimension:"Grades.grade",operator:"equals",values:["".concat(s)]}),n||c.push("Sections.section")),n&&(r.push({dimension:"Sections.section",operator:"equals",values:["".concat(n)]}),c.push("Subjects.subject")),i={measures:["AssignmentSubmissions.count"],timeDimensions:[{dimension:"AssignmentSubmissions.recordAssignmentUploaddate",granularity:"day"}],order:{},dimensions:c,filters:r},e.next=12,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:i})});case 12:return o=e.sent,e.next=15,o.json();case 15:(o=e.sent).data?a(o.data):a([]);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).Load=function(e,t,s){n.setState({loading:!0}),te(e,t,s,(function(e){var t=function(e){if(!e)return{data:[],categories:[]};e=(e=e.filter((function(e){return null!==e["AssignmentSubmissions.recordAssignmentUploaddate"]}))).map((function(e){return{day:new Date(e["AssignmentSubmissions.recordAssignmentUploaddate"]).toDateString(),"Submission Count":e["AssignmentSubmissions.count"],category:e["Semesters.semester"]||e["Grades.grade"]||e["Sections.section"]||e["Subjects.subject"]}}));var t=[],s={},n=[];return e.forEach((function(e){t.includes(e.category)||t.push(e.category),n.includes(e.day)||n.push(e.day),s[e.day]||(s[e.day]={day:e.day}),s[e.day][e.category]=e["Submission Count"]})),{data:e=n.map((function(e){return s[e]})),categories:t}}(e),s=t.data,a=t.categories;n.setState({loading:!1,chart:{timelineData:s,categories:a}})}))},n.handleClick=function(){var e=n.state,t=e.loading,s=e.chart,a=s.timelineData,r=s.categories;return t||n.showModal("Assignment Submissions Timeline",Q,{timelineData:a,categories:r}),!0},n.state={loading:!1,chart:{timelineData:[],categories:[]}},n.showModal=e.showModal,n.Load(e.semester,e.className,e.section),n}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.Load(e.semester,e.className,e.section)}},{key:"render",value:function(){var e=this,t=this.state,s=t.loading,n=t.chart,a=n.timelineData,r=n.categories;return Object(j.jsxs)("div",{className:"card medium",children:[Object(j.jsxs)("div",{className:"card-header",children:[Object(j.jsx)("div",{className:"two-third container-v-center",children:Object(j.jsx)("span",{className:"padding",children:"Assignment Submission Timeline"})}),Object(j.jsx)("div",{className:"one-third container-v-center right",children:Object(j.jsx)("span",{onClick:function(t){return e.handleClick()},className:"open-modal-btn",children:"Expand"})})]}),Object(j.jsx)("div",{className:"card-body",children:s?Object(j.jsx)(N,{style:{height:"255px"}}):Object(j.jsx)(Q,{timelineData:a,categories:r})})]})}}]),s}(a.a.Component),ne=function(){var e=Object(h.a)(m.a.mark((function e(){var t,s,n,a,r,c,i,o,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:"",s=d.length>1&&void 0!==d[1]?d[1]:"",n=d.length>2&&void 0!==d[2]?d[2]:"",a=d.length>3?d[3]:void 0,r=[],c=["AssignmentSubmissions.assignmentTitle"],t&&(r.push({dimension:"Semesters.semester",operator:"equals",values:["".concat(t)]}),c.push("Periods.semester")),s&&r.push({dimension:"Grades.grade",operator:"equals",values:["".concat(s)]}),n&&r.push({dimension:"Sections.section",operator:"equals",values:["".concat(n)]}),i={measures:["AssignmentSubmissions.count"],timeDimensions:[{dimension:"AssignmentSubmissions.recordAssignmentUploaddate",granularity:"day"}],order:{"AssignmentSubmissions.recordAssignmentUploaddate":"desc"},dimensions:c,filters:r},e.next=11,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:i})});case 11:return o=e.sent,e.next=14,o.json();case 14:o=e.sent,a(o.data);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).Load=function(e,t,s){n.setState({loading:!0}),ne(e,t,s,(function(e){var t=function(e){var t=["Assignment Title","Date","Submission Count"];return e?{rows:e.map((function(e){return[e["AssignmentSubmissions.assignmentTitle"]||"Untitled Assignment",new Date(e["AssignmentSubmissions.recordAssignmentUploaddate.day"]).toDateString(),e["AssignmentSubmissions.count"]]})),headers:t}:{rows:[],headers:t}}(e),s=t.rows,a=t.headers;n.setState({loading:!1,table:{rows:s,headers:a}})}))},n.handleClick=function(){var e=n.state,t=e.loading,s=e.table;return t||n.showModal("Assignment Submissions",z,{table:s}),!0},n.state={loading:!1,table:{rows:[],headers:[]}},n.showModal=e.showModal,n.Load(e.semester,e.className,e.section),n}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.Load(e.semester,e.className,e.section)}},{key:"render",value:function(){var e=this,t=this.state,s=t.loading,n=t.table;return Object(j.jsxs)("div",{className:"card medium",children:[Object(j.jsxs)("div",{className:"card-header",children:[Object(j.jsx)("div",{className:"two-third container-v-center",children:Object(j.jsx)("span",{className:"padding",children:"Assignment Submissions"})}),Object(j.jsx)("div",{className:"one-third container-v-center right",children:Object(j.jsx)("span",{onClick:function(t){return e.handleClick()},className:"open-modal-btn",children:"Expand"})})]}),Object(j.jsx)("div",{className:"card-body",children:s?Object(j.jsx)(N,{style:{height:"260px"}}):Object(j.jsx)(z,{table:n})})]})}}]),s}(a.a.Component),re=function(e){var t=e.modalTitle,s=e.ModalComponent,n=e.modalProps,a=e.HideModal;return Object(j.jsx)("div",{className:"modal padding full-width",style:{height:"100vh",overflow:"scroll"},children:Object(j.jsxs)("div",{className:"card full-width ",children:[Object(j.jsxs)("div",{className:"card-header",children:[Object(j.jsx)("div",{className:"two-third container-v-center",children:Object(j.jsx)("span",{className:"padding",children:t})}),Object(j.jsx)("div",{className:"one-third container-v-center right",children:Object(j.jsx)("span",{onClick:function(e){return a()},className:"close-modal-btn",children:"Collapse"})})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(s,Object(y.a)({},n))})]})})},ce=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).setStateKey=function(e){return function(t){var s={};s="semesterSelected"===e?{classSelected:"",sectionSelected:"",semesterSelected:t}:"classSelected"===e?{sectionSelected:"",classSelected:t}:{sectionSelected:t},n.setState(s)}},n.showModal=function(e,t,s){n.setState({modalProps:s,showModal:!0,modalComponent:t,modalTitle:e||"Info"})},n.hideModal=function(){n.setState({modalProps:[],showModal:!1,modalTitle:""})},n.state={semesterSelected:"",classSelected:"",sectionSelected:"",showModal:!1,modalProps:[],modalComponent:k,modalTitle:""},n}return Object(o.a)(s,[{key:"render",value:function(){var e=this.state,t=e.semesterSelected,s=e.classSelected,n=e.sectionSelected,a=e.showModal,r=e.modalComponent,c=e.modalProps,i=e.modalTitle;return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsxs)("div",{className:"one-third container",children:[Object(j.jsx)("div",{className:"one-half xs",children:Object(j.jsx)(x,{setSemester:this.setStateKey("semesterSelected"),setClass:this.setStateKey("classSelected"),setSection:this.setStateKey("sectionSelected")})}),Object(j.jsx)("div",{className:"one-half xs",children:Object(j.jsx)(k,{categoryType:"S",semester:t,className:s,section:n})})]}),Object(j.jsx)("div",{className:"one-third padding",children:Object(j.jsx)(q,{semester:t,showModal:this.showModal})}),Object(j.jsx)("div",{className:"one-third padding",children:Object(j.jsxs)("div",{className:"card medium",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("div",{className:"three-fourth container-v-center",children:Object(j.jsx)("span",{className:"padding",children:"Students Distribution"})})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(I,{categoryType:"S",semester:t,className:s})})]})}),Object(j.jsx)("div",{className:"one-third padding",children:Object(j.jsxs)("div",{className:"card medium",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("div",{className:"three-fourth container-v-center",children:Object(j.jsx)("span",{className:"padding",children:"Semester Grade Distributions"})})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(E,{semester:t})})]})}),Object(j.jsx)("div",{className:"one-third padding",children:Object(j.jsx)(V,{semester:t,className:s,section:n,showModal:this.showModal,categoryType:"S"})}),Object(j.jsx)("div",{className:"one-third padding",children:Object(j.jsx)(H,{semester:t,className:s,section:n,showModal:this.showModal,categoryType:"S"})}),Object(j.jsx)("div",{className:"two-third padding",children:Object(j.jsx)(Z,{semester:t,className:s,section:n,showModal:this.showModal,categoryType:"S"})}),Object(j.jsx)("div",{className:"one-third padding",children:Object(j.jsxs)("div",{className:"card medium",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("div",{className:"two-third container-v-center",children:Object(j.jsx)("span",{className:"padding",children:"Assignment Submission Types"})})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ee,{semester:t,className:s,section:n})})]})}),Object(j.jsx)("div",{className:"one-half padding",children:Object(j.jsx)(se,{semester:t,className:s,section:n,showModal:this.showModal})}),Object(j.jsx)("div",{className:"one-half padding",children:Object(j.jsx)(ae,{semester:t,className:s,section:n,showModal:this.showModal})}),a?Object(j.jsx)(re,{ModalComponent:r,modalProps:c,HideModal:this.hideModal,modalTitle:i}):""]})}}]),s}(a.a.Component),ie=function(){var e=Object(h.a)(m.a.mark((function e(){var t,s,n,a,r,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",s=c.length>1?c[1]:void 0,n=[],t&&n.push({dimension:"Semesters.semester",operator:"equals",values:["".concat(t)]}),a={measures:["UsersGrade.average"],timeDimensions:[],order:{"UsersGrade.average":"desc"},filters:n,dimensions:["UsersGrade.gradeTeachername"]},e.next=7,fetch(b+"/cubejs-api/v1/load",{method:"POST",headers:{"Content-Type":"application/json",Authorization:v},body:JSON.stringify({query:a})});case 7:return r=e.sent,e.next=10,r.json();case 10:r=e.sent,s(r.data);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).Load=function(e){n.setState({loading:!0}),ie(e,(function(e){e=function(e){return e?e.map((function(e){return{name:e["UsersGrade.gradeTeachername"],value:e["UsersGrade.average"]}})):[]}(e),n.setState({loading:!1,data:e})}))},n.handleClick=function(){var e=n.state,t=e.loading,s=e.data;return t||n.showModal("Grade marks by Teacher",J,{data:s,title:"Avg Grade by Teacher"}),!0},n.state={loading:!1,data:[]},n.showModal=e.showModal,n.Load(e.semester),n}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(e){this.Load(e.semester)}},{key:"render",value:function(){var e=this,t=this.state,s=t.loading,n=t.data;return Object(j.jsxs)("div",{className:"card medium",children:[Object(j.jsxs)("div",{className:"card-header",children:[Object(j.jsx)("div",{className:"two-third container-v-center",children:Object(j.jsx)("span",{className:"padding",children:"Grade marks by Teacher"})}),Object(j.jsx)("div",{className:"one-third container-v-center right",children:Object(j.jsx)("span",{onClick:function(t){return e.handleClick()},className:"open-modal-btn",children:"Expand"})})]}),Object(j.jsx)("div",{className:"card-body",children:s?Object(j.jsx)(N,{style:{height:"255px"}}):Object(j.jsx)(J,{data:n,title:"Avg Grade by Teacher"})})]})}}]),s}(a.a.Component),de=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).setStateKey=function(e){return function(t){var s={};s="semesterSelected"===e?{classSelected:"",sectionSelected:"",semesterSelected:t}:"classSelected"===e?{sectionSelected:"",classSelected:t}:{sectionSelected:t},n.setState(s)}},n.showModal=function(e,t,s){n.setState({modalProps:s,showModal:!0,modalComponent:t,modalTitle:e||"Info"})},n.hideModal=function(){n.setState({modalProps:[],showModal:!1,modalTitle:""})},n.state={semesterSelected:"",classSelected:"",sectionSelected:"",showModal:!1,modalProps:[],modalComponent:k,modalTitle:""},n}return Object(o.a)(s,[{key:"render",value:function(){var e=this.state,t=e.semesterSelected,s=e.classSelected,n=e.sectionSelected,a=e.showModal,r=e.modalComponent,c=e.modalProps,i=e.modalTitle;return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsxs)("div",{className:"one-third container",children:[Object(j.jsx)("div",{className:"one-half xs",children:Object(j.jsx)(x,{setSemester:this.setStateKey("semesterSelected"),setClass:this.setStateKey("classSelected"),setSection:this.setStateKey("sectionSelected")})}),Object(j.jsx)("div",{className:"one-half xs",children:Object(j.jsx)(k,{categoryType:"T",semester:t,className:s,section:n})})]}),Object(j.jsx)("div",{className:"one-third padding",children:Object(j.jsxs)("div",{className:"card medium",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("div",{className:"three-fourth container-v-center",children:Object(j.jsx)("span",{className:"padding",children:"Teachers Distribution"})})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(I,{categoryType:"T",semester:t,className:s})})]})}),Object(j.jsx)("div",{className:"one-third padding",children:Object(j.jsx)(oe,{semester:t,showModal:this.showModal})}),Object(j.jsx)("div",{className:"one-half padding",children:Object(j.jsx)(V,{semester:t,className:s,section:n,showModal:this.showModal,categoryType:"T"})}),Object(j.jsx)("div",{className:"one-half padding",children:Object(j.jsx)(Z,{semester:t,className:s,section:n,showModal:this.showModal,categoryType:"T"})}),a?Object(j.jsx)(re,{ModalComponent:r,modalProps:c,HideModal:this.hideModal,modalTitle:i}):""]})}}]),s}(a.a.Component),le=(s(357),s(358),function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).viewSelector=function(e){return function(){n.setState({viewSelected:e})}},n.state={views:[{title:"Students / Overall",name:"STUDENT_VIEW"},{title:"Teachers",name:"TEACHER_VIEW"}],viewSelected:"STUDENT_VIEW"},n}return Object(o.a)(s,[{key:"render",value:function(){var e=this,t=this.state,s=t.viewSelected,n=t.views;return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"container padding",children:Object(j.jsx)("div",{className:"tab-selector bottom-bordered",children:n.map((function(t,n){var a=e.viewSelector(t.name),r=s===t.name?"tab active":"tab";return Object(j.jsx)("div",{className:r,onClick:a,children:Object(j.jsx)("span",{children:t.title},"tab#".concat(n,".title"))},"tab#".concat(n))}))})}),"STUDENT_VIEW"===s?Object(j.jsx)(ce,{}):Object(j.jsx)(de,{})]})}}]),s}(a.a.Component)),ue=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,361)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),r(e),c(e)}))};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(le,{})}),document.getElementById("trueleap-analytics-app")),ue()}},[[359,1,2]]]);
//# sourceMappingURL=main.fcbf5737.chunk.js.map